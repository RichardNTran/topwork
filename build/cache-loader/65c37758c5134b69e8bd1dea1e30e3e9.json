{"remainingRequest":"/Users/eru-longtn/opela-agent-fe/node_modules/thread-loader/dist/cjs.js??ref--5-1!/Users/eru-longtn/opela-agent-fe/node_modules/ts-loader/index.js??ref--5-2!/Users/eru-longtn/opela-agent-fe/node_modules/tslint-loader/index.js!/Users/eru-longtn/opela-agent-fe/src/main/webapp/app/redux/saga/notify.saga.ts","dependencies":[{"path":"/Users/eru-longtn/opela-agent-fe/src/main/webapp/app/redux/saga/notify.saga.ts","mtime":1582103313014},{"path":"/Users/eru-longtn/opela-agent-fe/node_modules/cache-loader/dist/cjs.js","mtime":1569983888264},{"path":"/Users/eru-longtn/opela-agent-fe/node_modules/thread-loader/dist/cjs.js","mtime":1569983892807},{"path":"/Users/eru-longtn/opela-agent-fe/node_modules/ts-loader/index.js","mtime":1569983892971},{"path":"/Users/eru-longtn/opela-agent-fe/node_modules/tslint-loader/index.js","mtime":1566205911452}],"contextDependencies":[],"result":["import { put, all, takeLatest } from 'redux-saga/effects';\nimport { convertCamelObjectToSnake } from 'app/shared/utils/common';\nimport { CookiesStorage } from 'app/shared/utils/local-storage';\nimport { NOTIFY_ACTION, SUCCESS, FAILURE, REQUEST } from '../constant';\nimport { notifyService } from 'app/service';\nimport { CookieKey } from 'app/shared/constant';\nfunction* subscribleNotify(action) {\n    try {\n        const { payload } = action;\n        const response = yield notifyService.subscribe(convertCamelObjectToSnake(payload));\n        const deviceToken = payload.deviceToken;\n        CookiesStorage.setCookieData(CookieKey.deviceToken, deviceToken);\n        yield put({\n            type: SUCCESS(NOTIFY_ACTION.SUBSCRIBE_NOTIFY),\n            payload: response.data\n        });\n    }\n    catch (e) {\n        yield put({ type: FAILURE(NOTIFY_ACTION.SUBSCRIBE_NOTIFY), errors: e.errors });\n    }\n}\nfunction* unsubscribleNotify(action) {\n    try {\n        const { payload } = action;\n        const response = yield notifyService.unsubscribe(convertCamelObjectToSnake(payload));\n        yield put({\n            type: SUCCESS(NOTIFY_ACTION.UNSUBSCRIBE_NOTIFY),\n            payload: response.data\n        });\n    }\n    catch (e) {\n        yield put({ type: FAILURE(NOTIFY_ACTION.UNSUBSCRIBE_NOTIFY), errors: e.errors });\n    }\n}\nexport default function* notifySaga() {\n    yield all([takeLatest(REQUEST(NOTIFY_ACTION.SUBSCRIBE_NOTIFY), subscribleNotify)]);\n    yield all([takeLatest(REQUEST(NOTIFY_ACTION.UNSUBSCRIBE_NOTIFY), unsubscribleNotify)]);\n}\n",{"version":3,"file":"/Users/eru-longtn/opela-agent-fe/src/main/webapp/app/redux/saga/notify.saga.ts","sourceRoot":"","sources":["/Users/eru-longtn/opela-agent-fe/node_modules/tslint-loader/index.js!/Users/eru-longtn/opela-agent-fe/src/main/webapp/app/redux/saga/notify.saga.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AAC1D,OAAO,EAAE,yBAAyB,EAAE,MAAM,yBAAyB,CAAC;AACpE,OAAO,EAAE,cAAc,EAAE,MAAM,gCAAgC,CAAC;AAChE,OAAO,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACvE,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAChD,QAAQ,CAAC,CAAC,gBAAgB,CAAC,MAAM;IAC/B,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,CAAC;QAC3B,MAAM,QAAQ,GAAG,MAAM,aAAa,CAAC,SAAS,CAAC,yBAAyB,CAAC,OAAO,CAAC,CAAC,CAAC;QACnF,MAAM,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;QACxC,cAAc,CAAC,aAAa,CAAC,SAAS,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;QACjE,MAAM,GAAG,CAAC;YACR,IAAI,EAAE,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC;YAC7C,OAAO,EAAE,QAAQ,CAAC,IAAI;SACvB,CAAC,CAAC;KACJ;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,GAAG,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;KAChF;AACH,CAAC;AAED,QAAQ,CAAC,CAAC,kBAAkB,CAAC,MAAM;IACjC,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,CAAC;QAC3B,MAAM,QAAQ,GAAG,MAAM,aAAa,CAAC,WAAW,CAAC,yBAAyB,CAAC,OAAO,CAAC,CAAC,CAAC;QACrF,MAAM,GAAG,CAAC;YACR,IAAI,EAAE,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC;YAC/C,OAAO,EAAE,QAAQ,CAAC,IAAI;SACvB,CAAC,CAAC;KACJ;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,GAAG,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;KAClF;AACH,CAAC;AAED,MAAM,CAAC,OAAO,SAAS,CAAC,CAAC,UAAU;IACjC,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,EAAE,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACnF,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;AACzF,CAAC","sourcesContent":["import { put, all, takeLatest } from 'redux-saga/effects';\nimport { convertCamelObjectToSnake } from 'app/shared/utils/common';\nimport { CookiesStorage } from 'app/shared/utils/local-storage';\nimport { NOTIFY_ACTION, SUCCESS, FAILURE, REQUEST } from '../constant';\nimport { notifyService } from 'app/service';\nimport { CookieKey } from 'app/shared/constant';\nfunction* subscribleNotify(action) {\n  try {\n    const { payload } = action;\n    const response = yield notifyService.subscribe(convertCamelObjectToSnake(payload));\n    const deviceToken = payload.deviceToken;\n    CookiesStorage.setCookieData(CookieKey.deviceToken, deviceToken);\n    yield put({\n      type: SUCCESS(NOTIFY_ACTION.SUBSCRIBE_NOTIFY),\n      payload: response.data\n    });\n  } catch (e) {\n    yield put({ type: FAILURE(NOTIFY_ACTION.SUBSCRIBE_NOTIFY), errors: e.errors });\n  }\n}\n\nfunction* unsubscribleNotify(action) {\n  try {\n    const { payload } = action;\n    const response = yield notifyService.unsubscribe(convertCamelObjectToSnake(payload));\n    yield put({\n      type: SUCCESS(NOTIFY_ACTION.UNSUBSCRIBE_NOTIFY),\n      payload: response.data\n    });\n  } catch (e) {\n    yield put({ type: FAILURE(NOTIFY_ACTION.UNSUBSCRIBE_NOTIFY), errors: e.errors });\n  }\n}\n\nexport default function* notifySaga() {\n  yield all([takeLatest(REQUEST(NOTIFY_ACTION.SUBSCRIBE_NOTIFY), subscribleNotify)]);\n  yield all([takeLatest(REQUEST(NOTIFY_ACTION.UNSUBSCRIBE_NOTIFY), unsubscribleNotify)]);\n}\n"]}]}